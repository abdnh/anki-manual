# توليد البطاقات {#card-generation}

<!-- toc -->

## بطاقات معكوسة {#reverse-cards}

بإمكانك مشاهدة [فيديو عن البطاقات المعكوسة](http://www.youtube.com/watch?v=DnbKwHEQ1mA&yt:cc=on)
في يوتيوب.

إذا كنت تريد إنشاء بطاقات باتجاهين (مثلًا، كل من “ookii”←“big” و “big”←“ookii”)،
فلديك عدة خيارات. الأبسط هو تحديد نوع الملحوظة المسمى «أساسي (وبطاقة معكوسة)».
سيولد هذا بطاقتين، واحدة لكل اتجاه.

إذا كنت تريد توليد بطاقات معكوسة لبعض من موادك فقط (ربما تريد أن تخصص وقت دراسة
بطاقات معكوسة للمواد الأكثر أهمية، أو بعض من موادك لا تصلح للبطاقات المعكوسة)،
بإمكانك تحديد نوع الملحوظة المسمى «أساسي (وبطاقة معكوسة اختيارية)». يولد هذا النوع
بطاقة أمامية عندما تملأ الحقلين الأولين فقط؛ إذا أدخلت شيئًا في نص
«إضافة بطاقة معكوسة» (مثل 'y')، سيولد أنكي بطاقة معكوسة أيضًا. لن يعرض محتوى
هذا الحقل في بطاقة أبدًا.

## توليد بطاقات وحذفها {#card-generation--deletion}

لن ينشئ أنكي بطاقات بجوانب أمامية فارغة. لذلك، إذا كان حقل «حقلي» فارغًا،
ويحتوي القالب الأمامي لبطاقة ما ذلك الحقل فقط، فلن تنشأ البطاقة.

إذا لم تكن هناك أي بطاقة يمكن إنشاؤها لأن كل البطاقات سيكون لها جوانب أمامية
فارغة، ستنبهك نافذة إضافة ملحوظات ولن تسمح بإضافة الملحوظة حتى تصبح بطاقة واحدة
على الأقل قابلة للإنشاء.

عند تحرير بطاقة مضافة مسبقًا، سينشأ أنكي بطاقات إضافية تلقائيًا إذا كانت
فارغة سابقًا لكن ليس بعد الآن. لكن إذا جعلت تعديلاتك بعض البطاقات فارغة بعد
أن لم تكن كذلك، فلن يحذف أنكي هذه البطاقات فورًا لأن ذلك قد يؤدي إلى فقدان بيانات عَرَضي.
لحذف البطاقات الفارغة، استخدم أدوات ← بطاقات فارغة في النافذة الرئيسية.
ستظهر لك قائمة بطاقات فارغة وستُعطى خيار حذفها.

بسبب طريقة عمل توليد البطاقات، فمن غير الممكن حذف بطاقات فردية يدويًا،
لأنها ستُنشأ مجددًا عند تحرير الملحوظة. عليك جعل حقول الاستبدال الشرطي المعنية فارغة
ثم استخدام خيار البطاقات الفارغة بدلًا من ذلك.

لا يأخذ أنكي الحقول الخاصة أو النصوص خارج الحقول بعين الاعتبار عند توليد بطاقات.
لذلك، إذا كان قالبك الأمامي كالتالي، فلن تُولَّد أي بطاقة إذا كان حقل البلد فارغًا:

    أين {{بلد}} على الخريطة؟

## توليد بطاقات اختياري {#selective-card-generation}

قد ترغب في توليد بطاقات إضافية لبعض موادك فقط في بعض الأحيان، مثلًا حينما تريد اختبار
قدرتك على استحضار الكلمات الأهم في مجموعة. تستطيع تحقيق ذلك بإضافة حقل إضافي إلى
ملحوظتك، وإضافة نص ما فيه (مثل "1") في الملحوظات التي تريد بطاقة إضافية فيها.
تستطيع جعل توليد البطاقة معتمدًا على كون ذلك الحقل غير فارغ. لمزيد من المعلومات
حول ذلك، انظر قسم الاستبدال الشرطي في الأسفل.

## استبدال شرطي {#conditional-replacement}

من الممكن تضمين بعض النصوص، أو الحقول، أو HTML في بطاقاتك فقط عندما يكون حقل ما
فارغًا أو غير فارغ. مثلًا:

<div dir="ltr">

    هذا النص ظاهر دائمًا.

    {{#اسم_حقل}}
        يظهر هذا النص فقط عندما لا يكون اسم_حقل فارغًا.
    {{/اسم_حقل}}

    {{^اسم_حقل}}
        يظهر هذا الحقل فقط عندما يكون اسم_حقل فارغًا.
    {{/اسم_حقل}}
</div>

مثال من الحياة الواقعية هو إظهار وسم فقط عندما لا يكون الحقل فارغًا:

<div dir="ltr">

    {{#وسوم}}
        وسوم: {{وسوم}}
    {{/وسوم}}
</div>

أو لنقل إنك تريد عرض حقل ما باللون الأزرق في الجانب الأمامي من بطاقتك
إذا كانت هناك ملاحظات إضافية في الخلف (ربما يجعلك وجود ملاحظات تتذكر أن تقضي
وقتًا أطول مفكرًا بالجواب). تستطيع تنسيق الحقل كالتالي:

<div dir="ltr">

    {{#ملاحظات}}
        <span style="color:blue;">
    {{/ملاحظات}}

    {{الحقل_الذي_تريد_تنسيقه}}

    {{#ملاحظات}}
        </span>
    {{/ملاحظات}}
</div>

كما يمكنك استخدام الاستبدال الشرطي للتحكم بتوليد البطاقات. يعمل هذا لأن أنكي
لا ينشئ بطاقات لها جانب أمامي فارغ. مثلًا، خذ بطاقة بحقلين في الجانب الأمامي:

    {{عبارة}}
    {{ملاحظات}}

ستولد بطاقة إذا كان حقل العبارة أو الملاحظات غير فارغ. إذا أدرت أن تولد بطاقة
إذا لم يكن حقل العبارة فارغًا، بإمكانك تغيير القالب كالتالي:

<div dir="ltr">

    {{#عبارة}}
        {{عبارة}}
        {{ملاحظات}}
    {{/عبارة}}
</div>

إذا أدرت أن تتطلب كلا الحقلين، تستطيع استخدام استبدالين شرطيين:

<div dir="ltr">

    {{#عبارة}}
        {{#ملاحظات}}
            {{عبارة}}
            {{ملاحظات}}
        {{/ملاحظات}}
    {{/عبارة}}
</div>

لا تنس أن هذا يعمل فقط إذا وضعت كود الاستبدال الشرطي في _أمام_ البطاقة؛
إذا فعلت هذا في الخلف، فستحصل على بطاقات بجانب خلفي فارغ ببساطة.
بشكل مشابه، لأن هذا يعمل من خلال التحقق مما إذا كان الجانب الأمامي سيصبح فارغًا،
فمن المهم أن تحيط الجانب الأمامي كله بعبارة الاستبدال الشرطي؛ على سبيل المثال،
لن يعمل التالي كما هو متوقع:

<div dir="ltr">

    {{#عبارة}}
        {{عبارة}}
    {{/عبارة}}
    {{ملاحظات}}
</div>

## جوانب خلفية فارغة {#blank-back-sides}

يأخذ توليد البطاقات الحقل الأمامي من البطاقة بعين الاعتبار فقط. مثلًا، إذا كان
لديك القالب الأمامي التالي:

<div dir="ltr">

    {{حقل 1}}
</div>

وحقل خلفي:

<div dir="ltr">

    {{حقل 2}}
</div>

فستولد بطاقة إذا كان حقل 1 غير فارغ. إذا كان حقل 2 فارغًا، فستولد البطاقة أيضًا،
وستحصل على جانب خلفي فارغ.

إذا كنت تريد تجنب الحصول على جانب خلفي فارغ، فعليك وضع حقل مطلوب في القالب الأمامي
كتعبير شرطي، كما يلي:

<div dir="ltr">

    {{#حقل 2}}
        {{حقل 1}}
    {{/حقل 2}}
</div>

يضمن هذا أن البطاقة ستُولَّد فقط إذا كان كل من حقل 1 وحقل 2 غير فارغ.

## قصورات في الإصدارات القديمة {#limitations-in-older-anki-versions}

لا تنطبق القصورات التالية على أنكي 2.1.28+ و أنكي موبيل 2.0.64+.

لا تدعم الإصدارات القديمة الشروط المنفية لتوليد البطاقات. مثلًا، في أنكي 2.1.28،
سيضيف الكود التالي بطاقة إذا كان الحقل المسمى «أضف_إذا_كان_فارغا» فارغًا،
ولم يكن حقل الأمام فارغًا:

<div dir="ltr">

    {{^أضف_إذا_كان_فارغا}}
        {{أمام}}
    {{/أضف_إذا_كان_فارغا}}
</div>

في إصدارات أنكي الأقدم، يتم تجاهل الشرط المنفي، ويعتمد توليد البطاقات
على كون حقل الأمام غير فارغ.

خلط شروط **و** و **أو** قد يسبب مشاكل في الإصدارات القديمة أيضًا.
مثلًا، الكود التالي صالح («أضف البطاقة إذا كان الحقل أ **أو** ب **أو** ج غير فارغ»):

    {{أ}}
    {{ب}}
    {{ج}}

والتالي («أضف البطاقة إذا كانت الحقول أ **و** ب **و** ج غير فارغة») صالح:

<div dir="ltr">

    {{#أ}}
        {{#ب}}
            {{#ج}}
                {{أ}}
            {{/ج}}
        {{/ب}}
    {{/أ}}
</div>

لكن التالي («أضف البطاقة إذا كان أ **أو** (ب **و** ج) غير فارغ») لن يعمل بشكل صحيح:

<div dir="ltr">

    {{أ}}
    {{#ب}}
        {{#ج}}
            {{ب}}
        {{/ج}}
    {{/ب}}
</div>

## إضافة ملحوظات فارغة {#adding-empty-notes}

عندما تضيف ملحوظة جديدة في أنكي 2.1.28+ وأنكي موبيل 2.0.64+، إذا كانت قوالب البطاقات
وحقول الملحوظة لا تنتج أي بطاقة، فستُنشأ بطاقة فارغة باستخدام القالب الأول.
يسمح لك هذا بإضافة مواد حتى لو كانت غير مكتملة، وبتعديلها أو تعديل القالب لاحقًا
لجعلها صالحة. إذا كنت لا تريد إبقاء ملحوظة فارغة، تستطيع حذفها باستخدام خاصية
البحث عن بطاقات فارغة.

يرفض أنكي إنشاء ملحوظة أو استيرادها إذا لم يكن توليد أي بطاقة ممكنًا في الإصدارات القديمة.

## قوالب ملء الفراغات {#cloze-templates}

انظر قسم [عبارات ملء الفراغات](../editing.md#cloze-deletion) للمعلومات التوضيحية.

يعمل نوع ملحوظات ملء الفراغات بشكل مختلف عن أنواع الملحوظات العادية. حيث يكون له
نوع بطاقة واحد مشترك مع كل عبارات ملء الفراغات في الملحوظة بدلًا من أنواع بطاقات مخصصة.

كما قلنا في قسم توليد البطاقات في الأعلى، يعتمد توليد البطاقات العادية على كون
حقل أو أكثر في جانب السؤال غير فارغ. تُوَلّد أنواع ملحوظات ملء الفراغات بشكل مختلف:

- يبحث أنكي في القالب الأمامي عن عبارة ملء فراغات واحدة أو أكثر،
مثل {{cloze:اسم_الحقل}}.

- ثم يبحث في حقل اسم_الحقل عن كل مراجع عبارات ملء الفراغات، مثل {{c1::نص}}.

- تولد بطاقة واحدة لكل رقم مختلف.

لأن توليد البطاقات يعمل بشكل مختلف في بطاقات ملء الفراغات، فإن ملحقات {{cloze:…​}}
لا يمكن استخدامها في نوع ملحوظة عادي - ستعمل بشكل صحيح عند استخدامها في نوع
ملحوظات ملء فراغات فقط.

يوفر الاستبدال الشرطي حقلًا خاصًا يمكنك من معرفة أي بطاقة تظهر. إذا أردت إظهار
حقل «تلميح1» في العبارة الأولى، وحقل «تلميح2» في العبارة الثانية مثلًا،
يمكنك استخدام القالب التالي:

<div dir="ltr">

    {{cloze:نص}}

    {{#c1}}
        {{تلميح1}}
    {{/c1}}

    {{#c2}}
        {{تلميح2}}
    {{/c2}}
</div>
