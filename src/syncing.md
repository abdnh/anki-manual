# المزامنة مع أنكي ويب {#syncing-with-ankiweb}

<!-- toc -->

أنكي ويب هي خدمة تسمح لك بمزامنة مجموعتك مع عدة أجهزة وبالدراسة عبر الإنترنت.
أنشئ [حسابًا مجانيًا](https://ankiweb.net/) قبل متابعة الخطوات في الأسفل.

## فيديوهات تعريفية {#intro-videos}

لتعريف سريع بالمزامنة، انظر
[فيديوهات المزامنة التعريفية](https://www.youtube.com/watch?v=YkiM4DPzSVc&list=PLGgmaKOIHykFoomqkBJAyGiDQ2kyiuTao&yt:cc=on).

## الإعداد {#setup}

للبدء بمزامنة مجموعتك مع عدة أجهزة، اضغط زر مزامنة (في أعلى يمين النافذة الرئيسية)،
أو اضغط مفتاح 'y'. سيُطلب منك معرف أنكي ويب الخاص بك وكلمة السر اللتين أنشأتهما
عند إنشاء حساب.

عند مزامنة مجموعتك للمرة الأولى، ستُسأل ما إذا كنت تريد الرفع أم التنزيل. إذا كان لديك
بطاقات في الحاسوب وكان حساب أنكي ويب فارغًا، اختر «رفع» لإرسال بياناتك إلى أنكي ويب.
إذا كان لديك بطاقات من جهاز آخر في أنكي ويب، ولم يكن لديك بطاقات في حاسوبك، اختر
«تنزيل» لاستبدال مجموعتك المحلية الفارغة ببطاقات أنكي ويب. إذا كان لديك بطاقات مختلفة في كلا
الجهازين، فعليك [فعل المزيد](#merging-conflicts) لتجنب فقدان البيانات.

حالما تكتمل مزامنة الاتجاه الواحد الأولية، سيكون أنكي قادرًا على دمج التغييرات
من مواقع مختلفة مع استثناءات قليلة.

إذا كان هناك أناس عديدون يستخدمون أنكي على الجهاز نفسه وأنشؤوا ملفات شخصية لكل منهم،
سيحتاج كل مستخدم إلى إنشاء حساب أنكي ويب خاص به. إذا حاولت مزامنة ملفات شخصية متعددة
بحساب أنكي ويب واحد فستفقد بيانات.

## المزامنة التلقائية {#automatic-syncing}

ستُزامن مجموعتك تلقائيًا في كل مرة تغلق أنكي أو تفتحه حالما تفّعل المزامنة.
إذا كنت تفضل المزامنة يدويًا، تستطيع إيقاف المزامنة التلقائية من خلال التفضيلات.

## لون الزر {#button-color}

سيتغير لون زر المزامنة إلى الأزرق عندما تُتطلب مزامنة عادية، وسيتغير إلى أحمر
عندما تُتطلب مزامنة كاملة.

## الوسائط {#media}

فيديو ذو صلة: <https://www.youtube.com/watch?v=phP9GGG-PxY>

سيزامن أنكي أي أصوات وصور مستخدمة في ملحوظاتك. سيلاحظ إضافة الوسائط وحذفها في مجلد الوسائط،
لكنه لن يلاحظ إذا عدلت بعض الملفات الموجودة بدون إضافة أي ملف أو حذفه. تحتاج إلى إضافة ملف أو حذفه
لكي تُلاحظ تعديلاتك.

إذا كنت تستخدم أنكي من محرك فلاش USB، فعليك استخدام نظام الملفات NTFS، لأن أنكي قد
لا يكون قادرًا على اكتشاف تغييرات الوسائط في نظام الملفات FAT32.

##  التعارضات {#conflicts}

فيديو ذو صلة: <https://www.youtube.com/watch?v=UEAcpfMQnjo>

يمكن دمج المراجعات وتعديلات الملحوظات في الأحوال العادية، لذلك إذا راجعت أو عدلت
في جهازين مختلفين قبل المزامنة، سيحفظ أنكي تغييراتك في كلا الموقعين. إذا راجعت
البطاقة نفسها في موقعين مختلفين، ستُسجل كلا هاتين المراجعتان في سجل التغييرات،
وسيُبقى على البطاقة بحالتها التي كانت عليها  عندما أُجيبت آخر مرة.

هناك بعض التغييرات التي لا يستطيع أنكي دمجها. تتعلق هذه التغييرات معظمًا بصيغ الملحوظات:
أشياء مثل إضافة حقل جديد، أو حذف قالب بطاقة. سينذرك أنكي عندما تجري عملية لا يمكن دمجها،
وسيعطيك خيار إلغاء العملية. إذا اخترت الاستمرار، سيطلب منك الاختيار بين إبقاء النسخة المحلية
أو النسخة في أنكي ويب عندما تزامن مجموعتك في المرة القادمة.

إذا كشفت بعض المشاكل عند المزامنة، فستُفرض مزامنة باتجاه واحد. إذا وجدت أن هذا يحدث بانتظام،
الرجاء الإبلاغ في موقع الدعم.

عندما تكون المزامنة باتجاه واحد مطلوبة، عليك اختيار إما إبقاء مجموعتك المحلية، أو مجموعة
أنكي ويب. إذا أجريت تغييرات في كلا الجانبين، فستبقى تغييرات جانب واحد فقط.

إذا اخترت رفع، سيُرسل المحتوى في جهازك المحلي إلى أنكي ويب. تحتاج بعدها إلى مزامنة
أجهزتك الأخرى، واختيار «تنزيل» لتنزيل نسخة من ذلك المحتوى.

إذا اخترت تنزيل، فسيُستبدل أي تغيير محلي بالبيانات الموجودة في أنكي ويب.

حالما تكون كل الأجهزة مزامنة، فستعود المزامنات المستقبلية إلى وضع دمج التغييرات من
كلا الجانبين العادي.

إذا كنت تريد فرض رفع أو تنزيل كامل (لأنك حذفت رزمة في جانب بدون قصد وتريد استعادة الرزمة
بدلًا من مزامنة هذا الحذف مثلًا)، تستطيع تفعيل خيار «عند المزامنة التالية، افرض التغييرات في جانب واحد»
في أدوات&lt;تفضيلات&lt;الشبكة، ثم المزامنة كالمعتاد. (ستعطى خيار اختيار أي جانب تريد استخدامه).

يؤثر فرض المزامنة بجانب واحد بمزامنة البطاقات فقط - تزامن الوسائط كالمعتاد.
إذا كان هناك ملفات تريد حذفها من أنكي ويب، تأكد أولًا من أن برنامجك مزامن بشكل
كامل مع أنكي ويب. بعد ذلك، أي ملفات تحذفها (من خلال ميزة فحص الوسائط مثلًا) ستُحذف
من أنكي ويب عند المزامنة التالية.

## دمج التعارضات {#merging-conflicts}

لأن [المزامنة الأولى](#setup) يمكنها أن تزامن تغييرات في جانب واحد فقط، فإذا أضفت محتوى
مختلفًا في أجهزة أو ملفات شخصية مختلفة قبل إعداد المزامنة، سيٌفقد المحتوى في جانب واحد
إذا استبدلته بالمحتوى في الجهاز الآخر. يمكن دمج البيانات إلى مجموعة واحدة يدويًا ببعض الجهد.

ابدأ بأخذ نسخة احتياطية في كل جهاز/ملف شخصي، في حال حدث خطأ ما. في إصدار الحاسوب
يمكنك استخدام ملف&lt;تصدير لتصدير «كل الرزم» مع تضمين معلومات المزامنة والوسائط،
ثم احفظ النسخة في مكان آمن. في أنكي موبيل، زر إضافة/تصدير في نافذة قائمة الرزم يسمح لك
بتصدير كل الرزم مع الوسائط.

بعد ذلك، إذا كان إحدى أجهزتك جهازًا محمولًا، فزامنه أولًا. إذا كان هناك تعارض، اختر
«رفع» لاستبدال أي بيانات في أنكي ويب ببيانات جهازك المحمول. إذا كان
كلا الجهازان/الملفات الشخصية على حاسوبك، زامن الجهاز/الملف الشخصي ذا عدد الرزم
الأكبر أولًا.

عد الآن إلى الجهاز/الملف الشخصي الآخر. إذا كانت المزامنة التلقائية مفعلة، ستظهر رسالة
تسألك ما إذا كنت تريد الرفع أم التحميل. اضغط زر إلغاء لأننا لا نريد المزامنة الآن.

عندما تكون في قائمة الرزم، اضغط زر الأتراس المسننة بجانب الرزمة الأولى واختر «تصدير».
صدّر المحتوى مع معلومات الجدولة والوسائط، واحفظ ملف الـ .apkg في مكان ما. عليك
تكرار هذا الإجراء لكل رزمة رئيسية.

بعد تصدير كل الرزم، اضغط زر مزامنة في أعلى اليمين، واختر «تنزيل»، ما سيؤدي إلى
استبدال المحتوى المحلي بالمحتوى الذي زامنته من الجهاز الآخر.

بإمكانك الآن استخدام ملف&lt;استيراد لاستيراد ملفات .apkg التي صدرتها سابقًا، ما سيؤدي
إلى دمج المحتوى المصدر مع المحتوى الموجود، بحيث يكون كل شيء في مكان واحد.

## جدران الحماية {#firewalls}

يحتاج أنكي إلى إجراء اتصالات HTTPS صادرة من أجل المزامنة. يجب أن يكون قادرًا على
الاتصال بـ ankiweb.net و sync.ankiweb.net و syncN.ankiweb.net على الأقل،
حيث N هو رقم بين 2 و 6. قد تتغير هذه النطاقات مع الوقت، وقد تتغير عناوين الآي بي التي تشير إليها،
لذلك ننصح بالسماح بوصول شامل إلى <span dir="ltr">\*.ankiweb.net</span> لتقليل الحاجة إلى تحديث قوانين جدار الحماية
في المستقبل.

إذا كان لديك جدار حماية في جهازك، فيجب أن تضيف استثناءً لأنكي. إذا كنت على شبكة عمل أو مدرسة،
فالرجاء التواصل مع مدير شبكتك للمساعدة، فليس هذا أمرًا يمكننا المساعدة فيه.

## البروكسيات {#proxies}

إذا كنت تحتاج بروكسي للوصول إلى الإنترنت، فيجب أن يكتشف أنكي إعدادات البروكسي الخاصة بالنظام
تلقائيًا إذا كنت تعمل على ويندوز أو أو إس إكس، وسيأخذ متغير البيئة HTTP_PROXY بعين الاعتبار
إذا كنت في منصة أخرى.

يمكن لأنكي أن يكتشف إعدادات النظام فقط إذا كان البروكسي معدًا يدويًا ولا يحتاج إلى كلمة مرور.
إذا كان نظامك يستخدم إعداد البروكسي التلقائي، أو يستخدم بروكسي يتطلب اسم مستخدم وكلمة مرور،
فستحتاج إلى إخبار أنكي بإعدادات البروكسي يدويًا.

لإخبار أنكي إعدادات البروكسي، عرّف متغير البيئة HTTPS_PROXY ليشير إلى خادم البروكسي.
سيبدو كالتالي:

<div dir="ltr">

    http://user:pass@proxy.company.com:8080
</div>

إذا كان اسم المستخدم أو كلمة المرور يحويان رمز @ (`user@workdomain.com` مثلًا)،
فستحتاج إلى تغييره إلى <span dir="ltr">%40</span>، كالتالي:

<div dir="ltr">

    http://user%40workdomain.com:pass@proxy.company.com:8080
</div>

يتوقع أنكي 2.0 أن يجد HTTP_PROXY بدلًا من HTTPS_PROXY.

لتعريف متغيرات البيئة في ويندوز، انظر
<https://www.google.com/search?q=windows+set+environmental+variable>

إذا كنت تعمل في ماك، انظر
<http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x>

الشبكات المغلقة بقوة والتي تقاطع الاتصالات الآمنة وتقدم شهادتها كبديل قد تجعل أنكي
يظهر أخطاء SSL. في مثل هذه البيئات، قد تكون قادرًا على تخطي هذه الأخطاء باستخدام
<https://ankiweb.net/shared/info/878367706>.

كحل بديل، تستطيع تنصيب خادم بروكسي محلي، وتوجيهه إلى خادم البروكسي العادي.
تستطيع عندها إخبار أنكي باستخدام البروكسي المحلي، والذي سيوجه الطلبات إلى البروكسي
الذي تستخدمه عادةً.
